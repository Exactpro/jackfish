#Id;#TestCase;#Kind;#Depends;#For
INIT;Init;;;
    #Id;#Global;#Action;#AppId;#Browser;#URL
    APPSTR1;1;ApplicationStart;mockWebApp;mockWebBrowser;mockWebURL


#Id;#TestCase;#Kind;#Depends;#For
DESCTOP;DesctopScreenshot;Never;;
    #Id;#Action
    DSK1;DesktopScreenshot

    #Assert;#Message
    DSK1.Out.getImage().getHeight() > 480 && DSK1.Out.getImage().getWidth() > 640;'Too small image'


#Id;#TestCase;#Kind;#Depends;#For
ALERT;DialogAlert;;;
    #Id;#Let
    text;'text in alert'

    #Id;#Action;#Dialog;#AppConnection;#TextBox
    DLGFLL1;DialogFill;'Main';APPSTR1.Out;Do.script('alert(\''+text+'\')')

    #Id;#Action;#Perform;#AppConnection
    DLGALRT1;DialogAlert;PerformKind.Dismiss;APPSTR1.Out

    #Assert;#Message
    DLGALRT1.Out == text;'Wrong text'

    #Id;#Action;#Dialog;#AppConnection;#TextBox
    DLGFLL2;DialogFill;'Main';APPSTR1.Out;Do.script('prompt(\''+text+'\')')

    #Id;#Action;#Perform;#AppConnection
    DLGALRT2;DialogAlert;PerformKind.Nothing;APPSTR1.Out

    #Assert;#Message
    DLGALRT2.Out == text;'Wrong text'

    #Id;#Action;#Perform;#AppConnection;#Text
    DLGALRT3;DialogAlert;PerformKind.Accept;APPSTR1.Out;'new text'

    #Assert;#Message
    DLGALRT3.Out == text;'Wrong text'


#Id;#TestCase;#Kind;#Depends;#For
LAYOUT;DialogCheckLayout;;;

#Id;#TestCase;#Kind;#Depends;#For
CLOSE;DialogClose;;;

#Id;#TestCase;#Kind;#Depends;#For
FILL;DialogFill;;;

#Id;#TestCase;#Kind;#Depends;#For
SWITCH;DialogSwitchToWindow;;;

#Id;#TestCase;#Kind;#Depends;#For
VALIDATE;DialogValidate;;;

#Id;#TestCase;#Kind;#Depends;#For
IMAGE_GET;ImageGet;;;

#Id;#TestCase;#Kind;#Depends;#For
IMAGE_REP;ImageReport;;;

#Id;#TestCase;#Kind;#Depends;#For
IMAGE_SAVE;ImageSave;;;
    #Id;#Action
    DSK2;DesktopScreenshot

    #Id;#Action;#Image;#Dir
    IMGSV1;ImageSave;DSK2.Out;'reports'

    #Assert;#Message
    Sys.exists(IMGSV1.Out);'Image is not saved'

    #Id;#Let
    fileName;'reports/saved.jpg'

    #Id;#Action;#Image;#File
    IMGSV2;ImageSave;DSK2.Out;fileName

    #Assert;#Message
    Sys.exists(IMGSV2.Out) && IMGSV2.Out == fileName;'Image is not saved'

    // =====================================================================
    // Negative tests
    #Id;#Action;#Assert;#Image
    IMGSV3;ImageSave;This.Result == Result.Failed && This.Kind == ErrorKind.EMPTY_PARAMETER;

    #Id;#Action;#Assert;#Image
    IMGSV4;ImageSave;This.Result == Result.Failed && This.Kind == ErrorKind.WRONG_PARAMETERS;DSK2.Out

    #Id;#Action;#Assert;#Image;#File
    IMGSV5;ImageSave;This.Result == Result.Failed && This.Kind == ErrorKind.EXCEPTION;DSK2.Out;''

    #Id;#Action;#Assert;#Image;#Dir
    IMGSV6;ImageSave;This.Result == Result.Failed && This.Kind == ErrorKind.WRONG_PARAMETERS;DSK2.Out;''


#Id;#TestCase;#Kind;#Depends;#For
CLEANUP;Cleanup;;;
    #Id;#Action;#AppConnection
    APPSTP1;ApplicationStop;APPSTR1.Out


